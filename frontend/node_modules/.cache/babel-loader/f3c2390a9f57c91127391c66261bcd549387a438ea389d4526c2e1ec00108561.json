{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DURAND\\\\Downloads\\\\githup\\\\spayr-lite\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [user, setUser] = useState({\n    name: '',\n    balance: 0\n  });\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    api.get('/me').then(res => setUser(res.data));\n    api.get('/history').then(res => setHistory(res.data.history));\n  }, []);\n  const requestAdvance = async () => {\n    setLoading(true);\n    const res = await api.post('/advance', {\n      amount: 200\n    });\n    setUser(prev => ({\n      ...prev,\n      balance: res.data.new_balance\n    }));\n    const hist = await api.get('/history');\n    setHistory(hist.data.history);\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Bienvenue \", user.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Solde : \", user.balance, \" \\u20AC\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: requestAdvance,\n      disabled: loading,\n      children: loading ? \"Chargement...\" : \"Demander une avance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Historique\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: history.map((h, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [h.date, \" - \", h.amount, \" \\u20AC\"]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 32\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"50ZPINlvzw1+9M61gla9p42mFRk=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","Dashboard","_s","user","setUser","name","balance","history","setHistory","loading","setLoading","get","then","res","data","requestAdvance","post","amount","prev","new_balance","hist","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","h","i","date","_c","$RefreshReg$"],"sources":["C:/Users/DURAND/Downloads/githup/spayr-lite/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../services/api';\r\n\r\nexport default function Dashboard() {\r\n  const [user, setUser] = useState({ name: '', balance: 0 });\r\n  const [history, setHistory] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    api.get('/me').then(res => setUser(res.data));\r\n    api.get('/history').then(res => setHistory(res.data.history));\r\n  }, []);\r\n\r\n  const requestAdvance = async () => {\r\n    setLoading(true);\r\n    const res = await api.post('/advance', { amount: 200 });\r\n    setUser(prev => ({ ...prev, balance: res.data.new_balance }));\r\n    const hist = await api.get('/history');\r\n    setHistory(hist.data.history);\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem' }}>\r\n      <h1>Bienvenue {user.name}</h1>\r\n      <p>Solde : {user.balance} €</p>\r\n      <button onClick={requestAdvance} disabled={loading}>\r\n        {loading ? \"Chargement...\" : \"Demander une avance\"}\r\n      </button>\r\n      <h3>Historique</h3>\r\n      <ul>\r\n        {history.map((h, i) => <li key={i}>{h.date} - {h.amount} €</li>)}\r\n      </ul>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}